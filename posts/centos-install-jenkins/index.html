<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Centos 安装 Jenkins - 黑白进制</title><link rel="icon" type="image/png" href=icons/myicon.png /><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:title" content="Centos 安装 Jenkins" />
<meta property="og:description" content="Debian / Ubuntu 安装 Jenkins 较简单，按照 官网教程 操作即可。
而 Jenkins 在 Centos 下的安装在官网没有体现，以下记录 Centos 7.4 安装 Jenkins 的步骤。
一、在 Centos 中安装 Jenkins 准备 Java 环境 Jenkins 是基于 Java 运行的，但是 Centos 默认不含 Java 环境，所以首先需要安装 OpenJDK。
$ yum -y install java-1.8.0-openjdk 通过以下命令，确认 Java 是否安装成功。
$ java -version openjdk version &#34;1.8.0_232&#34; OpenJDK Runtime Environment (build 1.8.0_232-b09) OpenJDK 64-Bit Server VM (build 25.232-b09, mixed mode) Jenkins 的安装 安装步骤：
 将 Jenkins 仓库添加到系统 导入密钥 安装 Jenkins  最新版安装：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://imgping.com/posts/centos-install-jenkins/" />
<meta property="article:published_time" content="2019-11-28T01:52:25+08:00" />
<meta property="article:modified_time" content="2019-11-28T01:52:25+08:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Centos 安装 Jenkins"/>
<meta name="twitter:description" content="Debian / Ubuntu 安装 Jenkins 较简单，按照 官网教程 操作即可。
而 Jenkins 在 Centos 下的安装在官网没有体现，以下记录 Centos 7.4 安装 Jenkins 的步骤。
一、在 Centos 中安装 Jenkins 准备 Java 环境 Jenkins 是基于 Java 运行的，但是 Centos 默认不含 Java 环境，所以首先需要安装 OpenJDK。
$ yum -y install java-1.8.0-openjdk 通过以下命令，确认 Java 是否安装成功。
$ java -version openjdk version &#34;1.8.0_232&#34; OpenJDK Runtime Environment (build 1.8.0_232-b09) OpenJDK 64-Bit Server VM (build 25.232-b09, mixed mode) Jenkins 的安装 安装步骤：
 将 Jenkins 仓库添加到系统 导入密钥 安装 Jenkins  最新版安装："/>
<link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,300italic,400italic|Raleway:200,300" rel="stylesheet">

	<link rel="stylesheet" type="text/css" media="screen" href="https://imgping.com/css/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="https://imgping.com/css/main.css" />
	<link rel="stylesheet" type="text/css" href="https://imgping.com/css/custom.css" />
	

	
	<script src="https://imgping.com/js/main.js"></script>
</head>

<body>
	<div class="container wrapper post">
		<div class="header">
	<h1 class="site-title"><a href="https://imgping.com/">黑白进制</a></h1>
	<div class="site-description"><nav class="nav social">
			<ul class="flat"></ul>
		</nav>
	</div>

	
	<nav class="nav">
		<ul class="flat">
			
			<li >
				<a href="/">主页</a>
			</li>
			
			<li >
				<a href="/books">书单</a>
			</li>
			
			<li >
				<a href="/tags">标签</a>
			</li>
			
			<li  class="active" >
				<a href="/posts">订阅</a>
			</li>
			
		</ul>
	</nav>
</div>


		<div class="post-header">
			<h1 class="title">Centos 安装 Jenkins</h1>
			<div class="meta">发布于 2019-11-28 <span class="draft-label">DRAFT</span> </div>
		</div>

		<div class="markdown">
			

<p>Debian / Ubuntu 安装 Jenkins 较简单，按照 <a href="https://jenkins.io/zh/doc/book/installing/">官网教程</a> 操作即可。</p>

<p>而 Jenkins 在 Centos 下的安装在官网没有体现，以下记录 Centos 7.4 安装 Jenkins 的步骤。</p>

<h2 id="一-在-centos-中安装-jenkins">一、在 Centos 中安装 Jenkins</h2>

<h3 id="准备-java-环境">准备 Java 环境</h3>

<p>Jenkins 是基于 Java 运行的，但是 Centos 默认不含 Java 环境，所以首先需要安装 OpenJDK。</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ yum -y install java-1.8.0-openjdk</code></pre></div>
<p>通过以下命令，确认 Java 是否安装成功。</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ java -version
openjdk version <span style="color:#2aa198">&#34;1.8.0_232&#34;</span>
OpenJDK Runtime Environment <span style="color:#719e07">(</span>build <span style="color:#2aa198">1</span>.8.0_232-b09<span style="color:#719e07">)</span>
OpenJDK <span style="color:#2aa198">64</span>-Bit Server VM <span style="color:#719e07">(</span>build <span style="color:#2aa198">25</span>.232-b09, mixed mode<span style="color:#719e07">)</span></code></pre></div>
<h3 id="jenkins-的安装">Jenkins 的安装</h3>

<p>安装步骤：</p>

<ul>
<li>将 Jenkins 仓库添加到系统</li>
<li>导入密钥</li>
<li>安装 Jenkins</li>
</ul>

<p>最新版安装：</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ wget -O /etc/yum.repos.d/jenkins.repo http://pkg.jenkins-ci.org/redhat-stable/jenkins.repo
$ rpm --import https://pkg.jenkins.io/redhat/jenkins.io.key
$ yum -y install jenkins</code></pre></div>
<p>LTS 稳定版安装：</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ wget -O /etc/yum.repos.d/jenkins.repo http://pkg.jenkins-ci.org/redhat/jenkins.repo
$ rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io.key
$ yum -y install jenkins</code></pre></div>
<h3 id="配置-jenkins-端口-可选">配置 Jenkins 端口（可选）</h3>

<p>Jenkins 默认端口是 8080，有需要可通过配置更改。</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">vim /etc/sysconfig/jenkins

<span style="color:#586e75">#监听端口</span>
<span style="color:#268bd2">JENKINS_PORT</span><span style="color:#719e07">=</span><span style="color:#2aa198">&#34;8080&#34;</span></code></pre></div>
<h3 id="端口放行">端口放行</h3>

<p>需要注意，以阿里云 ECS 为例，它默认是<strong>没有</strong>开通 8080 端口，所以需要在安全组中配置。</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">ECS - 网络与安全 - 安全组 - 配置规则 - 添加安全组规则 - 将 8080 端口添加到安全组中。</pre></div>
<p>如果服务器有启用防火墙，防火墙中需要启用端口。</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">$ firewall-cmd --add-port=8080/tcp --permanent
$ firewall-cmd --reload
$ firewall-cmd --list-all</pre></div>
<h3 id="启动-jenkins">启动 Jenkins</h3>

<p>在准备工作完成后，启动 Jenkins 服务。</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">$ systemctl start jenkins
$ systemctl enable --now jenkins
$ systemctl status jenkins</pre></div>
<p>如果启动成功，其状态如下</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4">jenkins.service - LSB: Jenkins Automation Server
   Loaded: loaded (/etc/rc.d/init.d/jenkins; bad; vendor preset: disabled)
   Active: active (running) since Tue 2019-12-03 14:00:58 CST; 1min 26s ago
     Docs: man:systemd-sysv-generator(8)
  Process: 823 ExecStart=/etc/rc.d/init.d/jenkins start (code=exited, status=0/SUCCESS)
    Tasks: 36
   Memory: 401.0M
   CGroup: /system.slice/jenkins.service
           └─1497 /etc/alternatives/java -Dcom.sun.akuma.Daemon=daemonized -...

Starting LSB: Jenkins Automation Server...
pam_unix(runuser:session): session o...)
Started LSB: Jenkins Automation Server.
Starting Jenkins [  OK  ]
Hint: Some lines were ellipsized, use -l to show in full.</pre></div>
<p>至此，在 Centos 上安装 Jenkins 已经完成。</p>

<h2 id="二-进入-jenkins-后台管理系统">二、进入 Jenkins 后台管理系统</h2>

<p>通过 <code>http://[serverip|hostname]:8080</code> 进入 Jenkins 后台管理系统。</p>

<p><img src="/img/jenkins_install.png" alt="Jenkins 初始化" /></p>

<p>要求输入密码。通过执行命令获取初始密码，复制到输入框中，并继续下一步。</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">cat /var/lib/jenkins/secrets/initialAdminPassword</code></pre></div>
<p>安装所推荐的插件：</p>

<p><img src="/img/jenkins_install_plugin.png" alt="Jenkins 安装推荐插件" /></p>

<p>等待插件安装完成：</p>

<p><img src="/img/jenkins_wait_for_install.png" alt="等待插件安装完成" /></p>

<p>可能由于网络或者服务器配置原因，有些插件安装失败，重新安装即可：</p>

<p><img src="/img/jenkins_install_plugin_fail.png" alt="重装插件" /></p>

<p>填入信息创建账号，也可以使用 admin 账号创建：</p>

<p><img src="/img/jenkins_sign_in.png" alt="重装插件" /></p>

<p>实例配置的 URL 显示为 <code>[serverip|hostname]:[port]</code>，默认即可。</p>

<p><img src="/img/jenkins_instance.png" alt="实例配置" /></p>

<p>安装完成，显示 Jenkins 后台界面。</p>

<p><img src="/img/jenkins_install_finish.png" alt="实例配置" /></p>

<h2 id="结语">结语</h2>

<p>以上就是 Jenkins 安装流程。</p>

<p>jenkins 配合 docker，需要注意将 jenkins 角色加入 docker 用户组</p>

<h2 id="参考文章">参考文章</h2>

<p><a href="https://jenkins.io/zh/doc/book/installing/">Jenkins 官网安装教程</a></p>

<p><a href="https://medium.com/@nazishalam07/how-to-install-jenkins-on-centos-7-a9db268663f5">How To Install Jenkins on CentOS-7</a></p>

<p><a href="https://computingforgeeks.com/how-to-install-jenkins-server-stable-on-centos-7/">How to install Jenkins on CentOS 7</a></p>

<p><a href="https://blog.csdn.net/miss1181248983/article/details/82840006">Jenkins入门（一）</a></p>

		</div>

		<div class="post-tags">
			
				
					<nav class="nav tags">
							<ul class="flat">
								
								<li><a href="/tags/%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2">自动化部署</a></li>
								
								<li><a href="/tags/jenkins">Jenkins</a></li>
								
							</ul>
					</nav>
				
			
		</div></div>
	<div class="footer wrapper">
	<nav class="nav">
		<div> Eriice © 2019</div>
		
	</nav>
</div>


<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-123-45', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</body>
</html>
